# æ‰¹é‡çƒ­åŠ›å›¾ç”Ÿæˆå™¨ (Batch Heatmap Generator)

ç”¨äºè€å¹´å¤±æ™ºäººç¾¤é¢„è­¦æ¨¡å¼ç§‘ç ”é¡¹ç›®çš„AUï¼ˆAction Unitï¼‰çƒ­åŠ›å›¾æ‰¹é‡ç”Ÿæˆå·¥å…·ã€‚

## åŠŸèƒ½

- è‡ªåŠ¨æ‰«ææ–‡ä»¶å¤¹ä¸­çš„è¢«è¯•æ•°æ®
- æ‰¹é‡ç”Ÿæˆ75Ã—68è§„æ ¼çš„AUçƒ­åŠ›å›¾
- æ”¯æŒè‡ªå®šä¹‰ç»„åˆ«æ ‡ç­¾
- è¾“å‡ºPNGå›¾ç‰‡å’ŒCSVæ•°æ®æ–‡ä»¶

## å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
python heatmap_generator.py --input <è¾“å…¥æ–‡ä»¶å¤¹> --output <è¾“å‡ºæ–‡ä»¶å¤¹>
```

### å¸¦ç»„åˆ«æ ‡ç­¾

```bash
python heatmap_generator.py --input ./zcsj --output ./output --label "æ­£å¸¸ç»„"
python heatmap_generator.py --input ./sj --output ./output --label "æ‚£è€…ç»„"
```

### å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | ç¼©å†™ | è¯´æ˜ | å¿…éœ€ |
|------|------|------|------|
| --input | -i | è¾“å…¥æ–‡ä»¶å¤¹è·¯å¾„ | æ˜¯ |
| --output | -o | è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„ | æ˜¯ |
| --label | -l | ç»„åˆ«æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰ | å¦ |
| --verbose | -v | è¯¦ç»†è¾“å‡º | å¦ |

## æ–‡ä»¶å‘½åè§„èŒƒ

è¾“å…¥æ–‡ä»¶éœ€æŒ‰ä»¥ä¸‹è§„èŒƒå‘½åï¼š
- `{è¢«è¯•ID}_ä¸­æ€§.csv`
- `{è¢«è¯•ID}_ç§¯æ.csv`
- `{è¢«è¯•ID}_æ‚²ä¼¤.csv`

## çƒ­åŠ›å›¾è§„æ ¼

- **é«˜**ï¼š75è¡Œï¼ˆ5éƒ¨åˆ†Ã—15ç§’ï¼‰
- **å®½**ï¼š68åˆ—ï¼ˆ4å•å…ƒÃ—17AUï¼‰

### æ•°æ®èŒƒå›´

| éƒ¨åˆ† | æ—¶é—´èŒƒå›´ |
|------|----------|
| N (ä¸­æ€§) | 0-60ç§’ |
| P1 (ç§¯æå‰60ç§’) | 0-60ç§’ |
| P2 (ç§¯æå60ç§’) | 60-120ç§’ |
| S1 (æ‚²ä¼¤å‰60ç§’) | 61-120ç§’ |
| S2 (æ‚²ä¼¤å60ç§’) | 121-180ç§’ |

## è¾“å‡ºæ–‡ä»¶

æ¯ä¸ªè¢«è¯•ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š
- `{è¢«è¯•ID}_heatmap_75x68.png` - çƒ­åŠ›å›¾
- `{è¢«è¯•ID}_heatmap_data_75x68.csv` - æ•°æ®çŸ©é˜µ

## ç¤ºä¾‹

```bash
# ç”Ÿæˆæ­£å¸¸ç»„çƒ­åŠ›å›¾
python heatmap_generator.py -i ./zcsj -o ./results/normal -l "Normal Group"

# ç”Ÿæˆæ‚£è€…ç»„çƒ­åŠ›å›¾
python heatmap_generator.py -i ./sj -o ./results/patient -l "Patient Group"
```

## ä½œè€…

è¶…çº§å°é¾™è™¾ ğŸ¦ - è€å¹´å¤±æ™ºäººç¾¤é¢„è­¦æ¨¡å¼ç§‘ç ”é¡¹ç›®
